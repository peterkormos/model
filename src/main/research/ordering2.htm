
<!-- saved from url=(0048)http://localhost:8080/MSZ_Szavazas/inputVote.jsp -->
<html>
<head>

<script type="text/javascript">
function moveUp(currentDiv)
{
//	alert(currentDiv.id);
	
	var parentDiv = document.getElementById("containerDiv");
	
	if(currentDiv.id > 1)
	{
		var next = document.getElementById(parseInt(currentDiv.id)-1);
		parentDiv.insertBefore(currentDiv, next);
	}
	
	reindex(parentDiv);
}

function moveDown(currentDiv)
{
	var parentDiv = document.getElementById("containerDiv");
	
	if(currentDiv.id < parentDiv.getElementsByTagName("div").length)
	{
		var next = document.getElementById(parseInt(currentDiv.id)+2);
		parentDiv.insertBefore(currentDiv, next);
		
	}
	reindex(parentDiv);
}

function reindex(parentDiv)
{
	var divs = parentDiv.getElementsByTagName("div");
//	alert("divs: "  + divs.length);
	
	for( i = 0; i < divs.length; i++)
	{
		var childs = divs[i].getElementsByTagName("input");
		divs[i].id = i+1;
//				alert(childs + " " + childs.length);
		
//	alert("div: "  + divs.length);
		if(childs == null)
			continue;
			
		for( j = 0; j < childs.length; j++)
		{
			if(childs[j].name == null)
				continue;			
//*	
			if(childs[j].name.indexOf("optionName") != -1)
			{
//				alert("div: " + divs[i].id + " old child: " + childs[j].name + " " + ("optionName"+(i+1)));
				childs[j].name = "optionName"+(i+1);
			}
		
			if(childs[j].name.indexOf("optionValue") != -1)
			{
	//			alert("div: " + divs[i].id + " " + childs[j].name + " " + ("optionValue"+(i+1)));
				childs[j].name = "optionValue"+(i+1);
				childs[j].value = (i+1);
			}
//*/			
		}
//		alert("done: " + parentDiv.childNodes[i].id);
	}
}

</script>

</head>
<body>
	<p>
	<form method="get" action="">
		<div id="containerDiv">
			<div id="1">
				a <input type="hidden" name="optionName1" value="a"> <input
					name="optionValue1" type="text" readonly="readonly" size="4">
				<input type="button" value="^" onClick="moveUp(this.parentNode)">
				<input type="button" value="v" onClick="moveDown(this.parentNode)">
			</div>

			<div id="2">
				b <input type="hidden" name="optionName2" value="b"> <input
					name="optionValue2" type="text"> <input type="button"
					value="^" onClick="moveUp(this.parentNode)"> <input
					type="button" value="v" onClick="moveDown(this.parentNode)">
			</div>

			<div id="3">
				c <input type="hidden" name="optionName3" value="c"> <input
					name="optionValue3" type="text"> <input type="button"
					value="^" onClick="moveUp(this.parentNode)"> <input
					type="button" value="v" onClick="moveDown(this.parentNode)">
			</div>

		</div>

		<script type="text/javascript">
//alert(document.getElementById("containerDiv").getElementsByTagName("div").length);
</script>

		<input type="submit">
	</form>
</body>
</html>